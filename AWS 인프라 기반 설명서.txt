AWS 인프라 기반 MSA프로젝트는 EC2, ECR, RDS, EKS, S3 활용한다
EC2에는 Jenkins를 설치한 인스턴스와 EKS가 가용수 한정하에 필요한 인스턴스를 생성한다 EC2에는 OS운영체제는 Ubuntu 활용한다
ECR에는 Jenkins에서 Build하는 img를 저장하는 각 서비스와 서버의 리포지토리가 있다
EKS에는 ECR의 img가져와서 POD를 생성하여 실행한다
Jenkins EC2에 Jenkins를 설치하고 각 서비스, 서버의 Build img를 ECR에 배포한다 img 배포 전 yaml를 참조하여 ingress를 통해 연동을 설정한다

서버 종류는 이와 같이 구축하였다
config-server 포트는 8888 config가 참조하는 환경변수는 Git 레파지토리를 참조한다
eureka-server 포트는 8761 config를 제외한 유레카를 참조하는 모든 server, service의 상태를 읽고 상태관리를 한다
api-gateway 포트는 8070 config를 제외한 유레카를 참조한 모든 server, service의 경로를 읽고 토큰검증 및 권한 설정을 통한 cors검증을 한다

서비스는 각각 Eureka에 연동하여 api-gateway를 통해 접근이 가능하다
front-service 포트는 8080 사용자 클라이언트를 담당하고 있다
message-service 포트는 8092 알림 서비스, 소캣통신을 활용한 메세지 서비스를 담당하고 있다
user-service 포트는 8090 어드민, 일반유저, 파일업로드, 리뷰 각 서비스들을 담당하고 있다.
bnb-service 포트는 8091 숙박, 관광지, 결제, 예약 각 서비스들을 담당하고있다.

service에서 service간 통신은 fegin을 이용하였다